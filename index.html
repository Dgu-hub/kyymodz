<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üè´ KELAS 8.1 Nih Boy</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root {
      --primary: #4361ee;
      --success: #06d6a0;
      --danger: #ef476f;
      --warning: #ffd166;
      --light: #f8f9fa;
      --dark: #343a40;
      --border: #dee2e6;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
      color: #333;
      line-height: 1.6;
      padding: 20px;
    }

    header {
      text-align: center;
      margin-bottom: 40px;
    }

    header h1 {
      font-size: 2.8rem;
      color: var(--primary);
      margin: 10px 0;
      font-weight: 700;
    }

    header p {
      color: #555;
      font-size: 1.2rem;
    }

    /* Musik Player */
    .audio-controls {
      background: white;
      padding: 16px;
      border-radius: 12px;
      box-shadow: var(--shadow);
      margin: 20px auto;
      max-width: 600px;
    }

    .audio-controls select, .audio-controls button {
      padding: 10px 14px;
      margin: 0 5px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
    }

    .audio-controls button {
      background: var(--primary);
      color: white;
      border: none;
      cursor: pointer;
    }

    /* Button Container - Grid Layout */
    .button-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 30px;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }

    .btn {
      padding: 16px;
      font-size: 1.1rem;
      font-weight: 600;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .btn.primary { background: var(--primary); color: white; }
    .btn.success { background: var(--success); color: white; }
    .btn.warning { background: var(--warning); color: var(--dark); }
    .btn.danger { background: var(--danger); color: white; }

    .btn:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    }

    main {
      max-width: 1000px;
      margin: 0 auto;
      background: white;
      border-radius: 18px;
      padding: 32px;
      box-shadow: 0 12px 36px rgba(0,0,0,0.1);
    }

    h2 {
      font-size: 1.9rem;
      color: var(--primary);
      margin-bottom: 24px;
      text-align: center;
      border-bottom: 3px solid var(--success);
      padding-bottom: 12px;
      font-weight: 600;
    }

    .section {
      display: none;
    }

    .section.active {
      display: block;
      animation: fadeIn 0.5s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* List Styling */
    .list {
      list-style: none;
    }

    .list-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      background: #fbfdff;
      border: 1px solid var(--border);
      border-radius: 12px;
      margin: 12px 0;
      font-size: 1.05rem;
      transition: background 0.2s;
    }

    .list-item:hover {
      background: #f1f5ff;
    }

    .list-item span {
      font-weight: 500;
    }

    .action-dropdown {
      display: none;
    }

    .admin-mode .action-dropdown {
      display: inline-block;
    }

    .dropbtn {
      background: var(--danger);
      color: white;
      border: none;
      padding: 7px 11px;
      border-radius: 6px;
      font-size: 0.95rem;
      cursor: pointer;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background: white;
      min-width: 150px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
      border-radius: 10px;
      border: 1px solid var(--border);
      z-index: 10;
      overflow: hidden;
    }

    .action-dropdown:hover .dropdown-content {
      display: block;
    }

    .dropdown-content a {
      color: var(--dark);
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      font-size: 0.95rem;
      transition: background 0.2s;
    }

    .dropdown-content a:hover {
      background: #f1f3f5;
      color: var(--primary);
    }

    /* Gallery */
    .gallery {
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
      margin-top: 20px;
      justify-content: center;
    }

    .photo-item {
      position: relative;
      width: 170px;
      text-align: center;
    }

    .photo-item img {
      width: 100%;
      height: 170px;
      object-fit: cover;
      border-radius: 12px;
      border: 2px solid var(--primary);
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .photo-item p {
      margin-top: 8px;
      font-size: 0.95rem;
      font-weight: 500;
      color: var(--dark);
    }

    .photo-actions {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 6px;
    }

    .photo-btn {
      width: 32px;
      height: 32px;
      border: none;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    }

    .photo-btn.download { background: var(--success); }
    .photo-btn.zoom { background: var(--primary); }
    .photo-btn i { color: white; font-size: 0.95rem; }

    /* Admin Panel */
    .admin-forms {
      display: grid;
      gap: 24px;
    }

    .form-group {
      background: #f9fbff;
      padding: 22px;
      border-radius: 14px;
      border: 1px solid var(--border);
      box-shadow: 0 4px 12px rgba(0,0,0,0.03);
    }

    .form-group h3 {
      margin-bottom: 14px;
      color: var(--primary);
      font-size: 1.3rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .form-group input {
      width: 100%;
      padding: 13px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
      margin-bottom: 12px;
    }

    .form-group button {
      background: var(--primary);
      color: white;
      border: none;
      padding: 11px 18px;
      border-radius: 8px;
      font-size: 1.05rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    .form-group button:hover {
      background: #3a56d4;
    }

    .danger-btn {
      display: block;
      width: 100%;
      padding: 14px;
      background: var(--danger);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1.15rem;
      margin-top: 28px;
      text-align: center;
      font-weight: 600;
      cursor: pointer;
    }

    .copy-btn {
      background: var(--success);
      color: white;
      border: none;
      padding: 7px 12px;
      border-radius: 7px;
      font-size: 0.95rem;
      cursor: pointer;
    }

    .copy-btn:hover, .dropbtn:hover {
      opacity: 0.9;
    }
  </style>
</head>
<body class="user-mode">

  <!-- Musik -->
  <audio id="bgMusic" style="display:none;"></audio>

  <!-- Header -->
  <header>
    <h1>üè´ KELAS 8.1</h1>
    <p>Website Siswa 8.1 ¬©Alqhifari</p>

    <!-- Musik Player -->
    <div class="audio-controls">
      <select id="musicSelect" onchange="changeMusic()">
        <option value="">üéµ Pilih Lagu</option>
        <option value="musicalpaantu/lagu1.mp4">Suart Cinta Untuk Starla</option>
        <option value="musicalpaantu/lagu2.mp4">üé∂ Lagu 2 - Belajar Asik</option>
        <option value="musicalpaantu/lagu3.mp4">üé∂ Lagu 3 - Fun Time</option>
      </select>
      <button onclick="playPause()"><i class="fas fa-play"></i> Play</button>
      <button onclick="stopMusic()">‚èπÔ∏è Stop</button>
    </div>
  </header>

  <!-- Tombol Utama - Diatur Rapi dalam Grid -->
  <div class="button-container">
    <button class="btn primary" onclick="showSection('students')">
      <i class="fas fa-users"></i> Daftar Siswa
    </button>
    <button class="btn success" onclick="showSection('phones')">
      <i class="fas fa-phone"></i> Nomor Telepon
    </button>
    <button class="btn warning" onclick="showSection('shame')">
      <i class="fas fa-fire"></i> Aib Siswa
    </button>
    <button class="btn danger" onclick="adminLogin()">
      <i class="fas fa-user-shield"></i> Admin Panel
    </button>
  </div>

  <!-- Konten Utama -->
  <main id="content">
    <!-- Daftar Siswa -->
    <section id="students" class="section active">
      <h2>üìã Daftar Siswa</h2>
      <ul id="studentList" class="list"></ul>
    </section>

    <!-- Nomor Telepon -->
    <section id="phones" class="section">
      <h2>üìû Nomor Telepon Siswa</h2>
      <div id="phoneList"></div>
    </section>

    <!-- Aib Siswa -->
    <section id="shame" class="section">
      <h2>üì∏ Aib Siswa</h2>
      <div id="shameGallery" class="gallery"></div>
    </section>

    <!-- Admin Panel -->
    <section id="admin" class="section">
      <h2>üîê Admin Panel</h2>
      <div class="admin-forms">
        <!-- Tambah Nama Siswa -->
        <div class="form-group">
          <h3><i class="fas fa-user-plus"></i> Tambah Nama Siswa</h3>
          <input type="text" id="newStudentName" placeholder=">Nama Siswa" />
          <button onclick="addStudentName()">‚ûï Tambah</button>
        </div>

        <!-- Tambah Nomor Telepon -->
        <div class="form-group">
          <h3><i class="fas fa-phone-alt"></i> Tambah Nomor Telepon</h3>
          <input type="text" id="newPhone" placeholder="Contoh: 08829882919 ALQHIFARI" />
          <button onclick="addPhoneNumber()">‚ûï Tambah</button>
        </div>

        <!-- Tambah Foto Aib -->
        <div class="form-group">
          <h3><i class="fas fa-camera"></i> Tambah Link Foto Aib</h3>
          <input type="url" id="newPhotoUrl" placeholder="https://contoh.com/foto.jpg" />
          <input type="text" id="newPhotoName" placeholder="Nama Siswa (untuk caption)" />
          <button onclick="addPhotoUrl()">‚ûï Tambah</button>
        </div>

        <button onclick="clearAllData()" class="danger-btn">
          üóëÔ∏è Hapus Semua Data
        </button>
      </div>
    </section>
  </main>

  <script>
    const ADMIN_PASSWORD = "Taraganteng1";
    const bgMusic = document.getElementById('bgMusic');
    const musicSelect = document.getElementById('musicSelect');

    // Musik
    function changeMusic() {
      const src = musicSelect.value;
      if (src) bgMusic.src = src;
    }

    function playPause() {
      if (!bgMusic.src) return alert("Pilih lagu dulu!");
      if (bgMusic.paused) {
        bgMusic.play().catch(() => alert("Klik dulu untuk izin musik."));
        event.target.innerHTML = '<i class="fas fa-pause"></i> Pause';
      } else {
        bgMusic.pause();
        event.target.innerHTML = '<i class="fas fa-play"></i> Play';
      }
    }

    function stopMusic() {
      bgMusic.pause();
      bgMusic.currentTime = 0;
      document.querySelector('.audio-controls button:nth-child(2)').innerHTML = '<i class="fas fa-play"></i> Play';
    }

    // Admin Login
    function adminLogin() {
      const pass = prompt("üîê Masukkan password admin:");
      if (pass === ADMIN_PASSWORD) {
        document.body.className = 'admin-mode';
        alert("‚úÖ Login berhasil! Mode Admin aktif.");
        showSection('admin');
      } else {
        alert("‚ùå Password salah!");
      }
    }

    // Tampilkan Section
    function showSection(id) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      if (id === 'students') loadStudentNames();
      if (id === 'phones') loadPhoneNumbers();
      if (id === 'shame') loadPhotos();
    }

    // === DATA STORAGE ===
    function getNames() { return JSON.parse(localStorage.getItem('studentNames')) || []; }
    function getPhones() { return JSON.parse(localStorage.getItem('phoneNumbers')) || []; }
    function getPhotos() { return JSON.parse(localStorage.getItem('aibPhotos')) || []; }

    function saveNames(arr) { localStorage.setItem('studentNames', JSON.stringify(arr)); }
    function savePhones(arr) { localStorage.setItem('phoneNumbers', JSON.stringify(arr)); }
    function savePhotos(arr) { localStorage.setItem('aibPhotos', JSON.stringify(arr)); }

    // === Tambah Data (terpisah & tidak boleh dobel) ===
    function addStudentName() {
      const name = document.getElementById('newStudentName').value.trim();
      if (!name) return alert("Nama wajib diisi!");
      const names = getNames();
      if (names.some(n => n.toLowerCase() === name.toLowerCase())) {
        return alert("‚ùå Siswa dengan nama ini sudah ada!");
      }
      names.push(name);
      saveNames(names);
      alert(`‚úÖ ${name} berhasil ditambahkan.`);
      document.getElementById('newStudentName').value = '';
      loadStudentNames();
    }

    function addPhoneNumber() {
      const phone = document.getElementById('newPhone').value.trim();
      if (!phone) return alert("Isi nomor + nama!");
      const phones = getPhones();
      if (phones.includes(phone)) {
        return alert("‚ùå Nomor ini sudah ada!");
      }
      phones.push(phone);
      savePhones(phones);
      alert("‚úÖ Nomor telepon ditambahkan.");
      document.getElementById('newPhone').value = '';
      loadPhoneNumbers();
    }

    function addPhotoUrl() {
      const url = document.getElementById('newPhotoUrl').value.trim();
      const name = document.getElementById('newPhotoName').value.trim();
      if (!url || !name) return alert("Isi link dan nama!");
      const photos = getPhotos();
      if (photos.some(p => p.url === url)) {
        return alert("‚ùå Foto ini sudah ditambahkan!");
      }
      photos.push({ url, name });
      savePhotos(photos);
      alert("‚úÖ Foto aib ditambahkan.");
      document.getElementById('newPhotoUrl').value = '';
      document.getElementById('newPhotoName').value = '';
      loadPhotos();
    }

    // === Load Data ===
    function loadStudentNames() {
      const list = document.getElementById('studentList');
      list.innerHTML = '';
      getNames().forEach((name, i) => {
        const li = document.createElement('li');
        li.className = 'list-item';
        li.innerHTML = `
          <span>${name}</span>
          <div class="action-dropdown">
            <button class="dropbtn">‚ãÆ</button>
            <div class="dropdown-content">
              <a href="#" onclick="event.preventDefault(); deleteName(${i});">üóëÔ∏è Hapus Siswa</a>
            </div>
          </div>
        `;
        list.appendChild(li);
      });
    }

    function loadPhoneNumbers() {
      const cont = document.getElementById('phoneList');
      cont.innerHTML = '';
      getPhones().forEach((phone, i) => {
        const div = document.createElement('div');
        div.className = 'list-item';
        div.innerHTML = `
          <span>${phone}</span>
          <div>
            <button class="copy-btn" onclick="salin('${phone}')">üìã Salin</button>
            <div class="action-dropdown">
              <button class="dropbtn">‚ãÆ</button>
              <div class="dropdown-content">
                <a href="#" onclick="event.preventDefault(); deletePhone(${i});">üö´ Hapus</a>
              </div>
            </div>
          </div>
        `;
        cont.appendChild(div);
      });
    }

    function loadPhotos() {
      const gal = document.getElementById('shameGallery');
      gal.innerHTML = '';
      getPhotos().forEach((p, i) => {
        const item = document.createElement('div');
        item.className = 'photo-item';
        item.innerHTML = `
          <img src="${p.url}" alt="Aib ${p.name}">
          <p>${p.name}</p>
          <div class="photo-actions">
            <button class="photo-btn download" onclick="downloadPhoto('${p.url}', '${p.name}')">
              <i class="fas fa-download"></i>
            </button>
            <button class="photo-btn zoom" onclick="zoomPhoto('${p.url}')">
              <i class="fas fa-search-plus"></i>
            </button>
          </div>
        `;
        gal.appendChild(item);
      });
    }

    // === Hapus ===
    function deleteName(i) {
      if (confirm("Hapus siswa ini?")) {
        const names = getNames();
        names.splice(i, 1);
        saveNames(names);
        loadStudentNames();
      }
    }

    function deletePhone(i) {
      const phones = getPhones();
      phones.splice(i, 1);
      savePhones(phones);
      loadPhoneNumbers();
    }

    function deletePhoto(i) {
      const photos = getPhotos();
      photos.splice(i, 1);
      savePhotos(photos);
      loadPhotos();
    }

    // === Salin & Download ===
    function salin(text) {
      navigator.clipboard.writeText(text).then(() => alert("‚úÖ Nomor disalin!"));
    }

    function downloadPhoto(url, name) {
      const a = document.createElement('a');
      a.href = url;
      a.download = `${name}_aib.jpg`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    }

    function zoomPhoto(url) {
      window.open(url, '_blank', 'width=800,height=600,resizable=yes,scrollbars=yes');
    }

    function clearAllData() {
      const confirm = prompt('‚ö†Ô∏è Ketik "HAPUS SEMUA" untuk konfirmasi:');
      if (confirm === "HAPUS SEMUA") {
        localStorage.clear();
        alert("üóëÔ∏è Semua data berhasil dihapus.");
        location.reload();
      } else {
        alert("Penghapusan dibatalkan.");
      }
    }

    // Load awal
    loadStudentNames();
  </script>
</body>
</html>